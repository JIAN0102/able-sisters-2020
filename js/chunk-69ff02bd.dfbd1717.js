(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69ff02bd"],{"0ea8":function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"c-steps"},[a("ul",{staticClass:"c-steps__list",class:{"is-step-1":1===t.progress,"is-step-2":2===t.progress,"is-step-3":3===t.progress}},[t._m(0),t._m(1),t._m(2)])])},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",{staticClass:"c-steps__item"},[a("span"),a("h3",[t._v("訂購明細")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",{staticClass:"c-steps__item"},[a("span"),a("h3",[t._v("確認訂單")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",{staticClass:"c-steps__item"},[a("span"),a("h3",[t._v("完成訂購")])])}],c=(a("a9e3"),{props:{progress:{type:Number}}}),r=c,n=a("2877"),o=Object(n["a"])(r,e,i,!1,null,null,null);s["a"]=o.exports},"99af":function(t,s,a){"use strict";var e=a("23e7"),i=a("d039"),c=a("e8b5"),r=a("861d"),n=a("7b0b"),o=a("50c4"),l=a("8418"),d=a("65f0"),_=a("1dde"),u=a("b622"),v=a("2d00"),p=u("isConcatSpreadable"),f=9007199254740991,m="Maximum allowed index exceeded",h=v>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),C=_("concat"),b=function(t){if(!r(t))return!1;var s=t[p];return void 0!==s?!!s:c(t)},g=!h||!C;e({target:"Array",proto:!0,forced:g},{concat:function(t){var s,a,e,i,c,r=n(this),_=d(r,0),u=0;for(s=-1,e=arguments.length;s<e;s++)if(c=-1===s?r:arguments[s],b(c)){if(i=o(c.length),u+i>f)throw TypeError(m);for(a=0;a<i;a++,u++)a in c&&l(_,u,c[a])}else{if(u>=f)throw TypeError(m);l(_,u++,c)}return _.length=u,_}})},"9cff":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("main",[a("Loading",{attrs:{isLoading:t.isLoading}}),a("Steps",{attrs:{progress:2}}),a("div",{staticClass:"c-cart"},[a("div",{staticClass:"l-wrapper-tiny"},[a("div",{staticClass:"c-cart__section"},[t._m(0),a("div",{staticClass:"c-table"},[t._m(1),a("ul",{staticClass:"c-table__list"},t._l(t.order.products,(function(s,e){return a("li",{key:e,staticClass:"c-table__item"},[a("div",{staticClass:"col-row"},[a("div",{staticClass:"col-1/3@md"},[a("div",{staticClass:"c-table__box",attrs:{"data-title":"商品名稱"}},[a("img",{staticClass:"u-mr-2",attrs:{src:s.product.imageUrl[0],alt:s.product.title}}),a("span",[t._v(t._s(s.product.title))])])]),a("div",{staticClass:"col-1/3@md"},[a("div",{staticClass:"c-table__box",attrs:{"data-title":"數量"}},[a("span",[t._v(t._s(s.quantity)+" / "+t._s(s.product.unit))])])]),a("div",{staticClass:"col-1/3@md"},[a("div",{staticClass:"c-table__box",attrs:{"data-title":"單價"}},[a("span",[t._v(t._s(t._f("currency")(s.product.price)))])])])])])})),0),a("div",{staticClass:"c-table__total"},[a("p",[t._v(" 總價 "),a("span",{staticClass:"u-color-primary"},[t._v(" "+t._s(t._f("currency")(t.order.amount))+" ")])])])])]),a("div",{staticClass:"c-table__section"},[t._m(2),a("div",[a("form",{on:{submit:function(s){return s.preventDefault(),t.payOrder(s)}}},[a("div",{staticClass:"c-info"},[a("ul",{staticClass:"c-info__list"},[a("li",{staticClass:"c-info__item"},[t._m(3),a("div",{staticClass:"c-info__content"},[a("span",[t._v(t._s(t.order.user.email))])])]),a("li",{staticClass:"c-info__item"},[t._m(4),a("div",{staticClass:"c-info__content"},[a("span",[t._v(t._s(t.order.user.name))])])]),a("li",{staticClass:"c-info__item"},[t._m(5),a("div",{staticClass:"c-info__content"},[a("span",[t._v(t._s(t.order.user.tel))])])]),a("li",{staticClass:"c-info__item"},[t._m(6),a("div",{staticClass:"c-info__content"},[a("span",[t._v(t._s(t.order.user.address))])])]),a("li",{staticClass:"c-info__item"},[t._m(7),a("div",{staticClass:"c-info__content"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.order.paid,expression:"order.paid"}],staticClass:"u-color-primary"},[t._v(" 付款完成 ")]),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.order.paid,expression:"!order.paid"}],staticClass:"u-color-secondary"},[t._v(" 未付款 ")])])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!1===t.order.paid,expression:"order.paid === false"}],staticClass:"u-mt-10 u-text-right"},[a("router-link",{staticClass:"c-btn c-btn--secondary-outline u-mr-3",attrs:{to:"/"}},[t._v(" 取消購買 ")]),a("button",{staticClass:"c-btn c-btn--primary",attrs:{type:"submit"}},[t._v(" 確認付款 ")])],1)])])])])])],1)},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"u-mb-8 u-text-center"},[a("h2",{staticClass:"u-text-xl u-font-medium"},[t._v("確認訂單")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"c-table__header"},[a("div",{staticClass:"col-row"},[a("div",{staticClass:"col-1/3@md"},[a("div",{staticClass:"c-table__box"},[a("span",[t._v("商品名稱")])])]),a("div",{staticClass:"col-1/3@md"},[a("div",{staticClass:"c-table__box"},[a("span",[t._v("數量")])])]),a("div",{staticClass:"col-1/3@md"},[a("div",{staticClass:"c-table__box"},[a("span",[t._v("單價")])])])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"u-mb-8 u-text-center"},[a("h2",{staticClass:"u-text-xl u-font-medium"},[t._v("訂單資訊")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"c-info__title"},[a("span",[t._v("Email")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"c-info__title"},[a("span",[t._v("姓名")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"c-info__title"},[a("span",[t._v("收件人電話")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"c-info__title"},[a("span",[t._v("收件人地址")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"c-info__title"},[a("span",[t._v("付款狀態")])])}],c=(a("99af"),a("0ea8")),r={components:{Steps:c["a"]},data:function(){return{isLoading:!1,order:{user:{email:"",name:"",tel:"",address:""}},orderId:""}},created:function(){this.$bus.$emit("get-cart"),this.orderId=this.$route.params.id,this.orderId&&this.getProductDetail(this.orderId)},methods:{getProductDetail:function(t){var s=this;this.isLoading=!0,this.orderId=t;var a="".concat("https://course-ec-api.hexschool.io/api","/").concat("9581c775-21da-48b3-9520-2da056c30643","/ec/orders/").concat(t);this.$http.get(a).then((function(t){s.order=t.data.data,s.isLoading=!1}))},payOrder:function(){var t=this;this.isLoading=!0;var s="".concat("https://course-ec-api.hexschool.io/api","/").concat("9581c775-21da-48b3-9520-2da056c30643","/ec/orders/").concat(this.orderId,"/paying");this.$http.post(s).then((function(s){s.data.data.id&&t.$router.push("/completed/".concat(s.data.data.id))}))}}},n=r,o=a("2877"),l=Object(o["a"])(n,e,i,!1,null,null,null);s["default"]=l.exports}}]);
//# sourceMappingURL=chunk-69ff02bd.dfbd1717.js.map