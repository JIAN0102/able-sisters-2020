(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76d3aeb8"],{"8a7d":function(t,a,i){"use strict";i.r(a);var c=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("main",[i("Loading",{attrs:{isLoading:t.isLoading}}),i("div",{staticClass:"p-product-detail"},[i("div",{staticClass:"p-product-detail__main"},[i("div",{staticClass:"p-product-detail__photo"},[i("img",{attrs:{src:t.product.imageUrl[0],alt:t.product.title}})]),i("div",{staticClass:"p-product-detail__content"},[i("div",{staticClass:"p-product-detail__inner"},[i("h2",{staticClass:"u-text-base u-color-secondary u-mb-2"},[t._v(t._s(t.product.category))]),i("h1",{staticClass:"u-text-2xl u-font-medium u-mb-4"},[t._v(t._s(t.product.title))]),i("p",[t._v(t._s(t.product.content))]),i("div",{staticClass:"p-product-detail__quantity"},[i("span",{staticClass:"u-mr-5"},[t._v("數量")]),i("div",{staticClass:"p-product-detail__action"},[i("button",{staticClass:"p-product-detail__btn p-product-detail__btn-minus",attrs:{disabled:1===t.quantity},on:{click:function(a){return t.updateQuantity(-1)}}}),i("div",{staticClass:"p-product-detail__input"},[t._v(t._s(t.quantity))]),i("button",{staticClass:"p-product-detail__btn p-product-detail__btn-plus",on:{click:function(a){return t.updateQuantity(1)}}})])]),i("button",{staticClass:"c-btn c-btn--primary",on:{click:function(a){return t.addCart()}}},[t._v(" 加入購物車 ")])])])])])],1)},n=[],s=(i("99af"),{data:function(){return{isLoading:!1,product:{imageUrl:[],num:0},quantity:1}},created:function(){var t=this.$route.params.id;this.getProductDetail(t)},methods:{getProductDetail:function(t){var a=this;this.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io/api","/").concat("9581c775-21da-48b3-9520-2da056c30643","/ec/product/").concat(t);this.$http.get(i).then((function(t){a.product=t.data.data,a.isLoading=!1}))},addCart:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api","/").concat("9581c775-21da-48b3-9520-2da056c30643","/ec/shopping");this.$http.post(a,{product:this.product.id,quantity:this.quantity}).then((function(){t.isLoading=!1,t.$bus.$emit("get-cart"),t.$bus.$emit("message","加入購物車成功","success")})).catch((function(a){t.isLoading=!1;var i=a.response.data.errors[0];t.$bus.$emit("message",i,"danger")}))},updateQuantity:function(t){this.quantity+=t},removeCart:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api","/").concat("9581c775-21da-48b3-9520-2da056c30643","/ec/shopping/").concat(this.product.id);this.$http.delete(a).then((function(a){t.isLoading=!1;var i=a.data.message;t.$bus.$emit("get-cart"),t.$bus.$emit("message",i,"success")})).catch((function(){t.isLoading=!1}))}}}),e=s,o=i("2877"),r=Object(o["a"])(e,c,n,!1,null,null,null);a["default"]=r.exports},"99af":function(t,a,i){"use strict";var c=i("23e7"),n=i("d039"),s=i("e8b5"),e=i("861d"),o=i("7b0b"),r=i("50c4"),d=i("8418"),u=i("65f0"),p=i("1dde"),l=i("b622"),h=i("2d00"),_=l("isConcatSpreadable"),f=9007199254740991,g="Maximum allowed index exceeded",v=h>=51||!n((function(){var t=[];return t[_]=!1,t.concat()[0]!==t})),b=p("concat"),m=function(t){if(!e(t))return!1;var a=t[_];return void 0!==a?!!a:s(t)},C=!v||!b;c({target:"Array",proto:!0,forced:C},{concat:function(t){var a,i,c,n,s,e=o(this),p=u(e,0),l=0;for(a=-1,c=arguments.length;a<c;a++)if(s=-1===a?e:arguments[a],m(s)){if(n=r(s.length),l+n>f)throw TypeError(g);for(i=0;i<n;i++,l++)i in s&&d(p,l,s[i])}else{if(l>=f)throw TypeError(g);d(p,l++,s)}return p.length=l,p}})}}]);
//# sourceMappingURL=chunk-76d3aeb8.3a4a16bf.js.map